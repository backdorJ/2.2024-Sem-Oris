@model Asp.GoodWeb.Contracts.Contracts.Auth.Login.LoginRequest

@{
    Layout = "_Layout";
}

<div>
    <form method="post" id="form-login" asp-antiforgery="false">
        <div>
            <label>Email</label>
            <input type="text" id="form-email">
        </div>
        <div>
            <label>Password</label>
            <input type="password" id="form-password">
        </div>
        <button type="submit">Login</button>
    </form>
</div>

@section Scripts {
    <script>
        let email = ""
        let password = ""

        document.getElementById('form-email').addEventListener('change', e => {
            email = e.target.value;
        })

        document.getElementById('form-password').addEventListener('change', e => {
            password = e.target.value;
        })

        document.getElementById('form-login').addEventListener('submit', e => {
            e.preventDefault()
            fetch('http://localhost:5091/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    password: password,
                    email: email
                })
            })
        })

    </script>
}

